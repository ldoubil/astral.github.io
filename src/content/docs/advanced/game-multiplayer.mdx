---
title: 游戏联机指南
description: 详细的游戏联机教程，包含 Minecraft 和其他游戏的配置方法
sidebar:
  order: 1
---

import { Steps, Aside, Tabs, TabItem, Card, CardGrid } from '@astrojs/starlight/components';

# 🎮 游戏联机指南

使用 Astral 进行游戏联机是最受欢迎的应用场景之一。本指南将详细介绍各种游戏的联机方法。

## 🏗️ 联机基础概念

<CardGrid>
  <Card title="🏠 房主（服务端）" icon="star">
    负责创建游戏世界，其他玩家连接到房主的游戏
  </Card>
  <Card title="👥 房员（客户端）" icon="puzzle">
    连接到房主的游戏世界，参与多人游戏
  </Card>
  <Card title="🌐 虚拟局域网" icon="rocket">
    Astral 创建的网络环境，让远程玩家如同在同一局域网
  </Card>
  <Card title="📡 端口转发" icon="shield">
    游戏通过特定端口进行通信，需要正确配置
  </Card>
</CardGrid>

## 🎯 Minecraft 联机详细教程

### 前期准备

<Tabs>
  <TabItem label="房主准备">
    **房主需要完成以下准备**：

    <Steps>
    1. **安装 MC 联机模组**（可选）
       - 下载地址：[MC联机模组](https://www.mcmod.cn/class/2754.html)
       - 支持离线账号联机
       - 只有房主需要安装

    2. **检查游戏版本**
       - 确认 Minecraft 版本
       - 记录模组加载器类型（Forge/Fabric）
       - 确保有可以对局域网开放的世界

    3. **准备联机世界**
       - 创建或选择要联机的世界
       - 确保世界可以正常运行
    </Steps>

    ![MC版本检查](/images/MC联机/MC联机-5.png)
  </TabItem>

  <TabItem label="房员准备">
    **房员需要完成以下准备**：

    <Steps>
    1. **确认游戏版本**
       - 与房主使用相同的 Minecraft 版本
       - 安装相同的模组（如果有）

    2. **设置用户名**
       - 使用英文字母和数字
       - 避免中文和特殊符号
       - 确保与其他玩家不重复

    3. **检查网络环境**
       - 完成 Astral 基础设置
       - 选择与房主相同的服务器
    </Steps>

    ![用户名设置](/images/MC联机/MC联机-9.png)
  </TabItem>
</Tabs>

### Astral 网络配置

**房主和房员都需要完成**：

<Steps>
1. **关闭防火墙**
   - 临时关闭系统防火墙
   - 或添加 Minecraft 和 Astral 到白名单

2. **配置 Astral**
   - 设置唯一的用户名
   - 选择相同的服务器
   - 创建或加入房间

3. **连接到房间**
   - 确保所有玩家都连接成功
   - 可以在房间页面看到彼此
</Steps>

### 房主操作步骤

<Steps>
1. **启动 Minecraft**
   - 进入要联机的世界
   - 确保世界正常运行

2. **开放局域网**
   - 按 ESC 打开菜单
   - 选择"对局域网开放"
   - 配置游戏设置（创造/生存模式，作弊等）
   - 点击"创建局域网世界"

3. **记录端口号**
   - 系统会显示端口号（通常是 25565）
   - 将此端口号告诉其他玩家

4. **获取 IP 地址**
   - 在 Astral 房间页面查看自己的 IP
   - 通常是 `10.126.126.1`
</Steps>

![开放局域网](/images/MC联机/MC联机-20.png)
![端口信息](/images/MC联机/MC联机-22.png)

### 房员操作步骤

<Steps>
1. **启动 Minecraft**
   - 进入游戏主菜单
   - 点击"多人游戏"

2. **添加服务器**
   - 点击"添加服务器"
   - 服务器名称：随意填写
   - 服务器地址：`房主IP:端口号`（如 `10.126.126.1:25565`）

3. **连接游戏**
   - 点击刚添加的服务器
   - 点击"加入服务器"
   - 等待连接成功
</Steps>

![添加服务器](/images/MC联机/MC联机-28.png)
![加入游戏](/images/MC联机/MC联机-29.png)

<Aside type="tip" title="连接小技巧">
- 如果端口是默认的 25565，可以省略端口号，只填写 IP 地址
- 英文冒号 `:` 用于分隔 IP 和端口，不要使用中文冒号
- 如果连接失败，检查防火墙和网络连接
</Aside>

## 🎮 其他游戏联机

### Steam 游戏联机

<Tabs>
  <TabItem label="基于 Steam 的游戏">
    **适用游戏**：CS2、Dota2、Left 4 Dead 2 等

    <Steps>
    1. **启动游戏**
       - 所有玩家启动相同的游戏
       - 确保游戏版本一致

    2. **创建房间**
       - 房主在游戏中创建房间/服务器
       - 设置为"局域网"或"私人房间"模式

    3. **邀请玩家**
       - 通过 Steam 好友列表邀请
       - 或告诉朋友房间 IP 和端口
    </Steps>
  </TabItem>

  <TabItem label="独立游戏服务器">
    **适用游戏**：Terraria、7 Days to Die、Valheim 等

    <Steps>
    1. **房主启动服务器**
       - 在游戏中选择"主机游戏"
       - 配置服务器设置（密码、玩家数量等）

    2. **记录连接信息**
       - 游戏通常会显示 IP 和端口
       - 或使用默认端口（查看游戏文档）

    3. **房员连接**
       - 在游戏中选择"加入游戏"
       - 输入房主的虚拟网络 IP 地址
    </Steps>
  </TabItem>
</Tabs>

### 常见游戏端口参考

| 游戏名称 | 默认端口 | 连接方式 |
|---------|---------|----------|
| Minecraft | 25565 | 直接连接 |
| Terraria | 7777 | 游戏内加入 |
| 7 Days to Die | 26900 | 服务器浏览器 |
| Valheim | 2456-2458 | Steam 邀请 |
| ARK | 7778 | 服务器浏览器 |
| Rust | 28015 | F1 控制台 |

## 🛠️ 常见问题解决

### 连接问题排查

<Tabs>
  <TabItem label="无法连接">
    **问题症状**：游戏显示"无法连接到服务器"

    **解决步骤**：
    1. **检查基础连接**
       - 确认 Astral 连接正常
       - 在 Astral 房间页面能看到所有成员

    2. **验证网络连通性**
       ```bash
       # Windows 命令提示符中测试
       ping 10.126.126.1
       telnet 10.126.126.1 25565
       ```

    3. **检查防火墙**
       - 完全关闭防火墙测试
       - 或添加游戏到防火墙白名单

    4. **确认游戏设置**
       - 检查 IP 地址和端口是否正确
       - 确认游戏版本和模组一致
  </TabItem>

  <TabItem label="连接不稳定">
    **问题症状**：可以连接但经常断线或延迟高

    **解决方案**：
    1. **优化网络设置**
       - 在 Astral 中开启"延迟优先"
       - 选择延迟更低的服务器

    2. **检查网络环境**
       - 使用有线网络连接
       - 关闭其他占用网络的程序

    3. **游戏内优化**
       - 降低游戏画质设置
       - 减少同时在线玩家数量

    4. **系统优化**
       - 关闭不必要的后台程序
       - 确保系统资源充足
  </TabItem>
</Tabs>

### 性能优化建议

**网络优化**：
- 🌐 选择地理位置最近的服务器
- ⚡ 启用 Astral 的延迟优先模式
- 🔄 使用有线网络连接
- 📱 避免使用移动热点

**游戏优化**：
- 🎮 降低游戏渲染距离
- 👥 控制同时在线人数（建议不超过8人）
- 💾 使用 SSD 硬盘存储游戏
- 🖥️ 确保足够的内存和CPU性能

**系统优化**：
- 🚫 关闭不必要的后台软件
- 🔄 定期清理系统垃圾文件
- 💻 更新网卡驱动程序
- ⚡ 优化电源管理设置

## 🎯 高级联机技巧

### 多游戏同时联机
- 🎮 **分配端口**：不同游戏使用不同端口
- 👥 **玩家分组**：合理分配网络资源
- 📊 **监控性能**：实时查看网络使用情况

### 跨平台联机
- 📱 **移动端**：部分游戏支持手机与PC联机
- 🎮 **主机游戏**：Xbox、PS等主机联机
- 🌐 **跨版本**：不同版本间的兼容性

### 大型服务器搭建
- 🏗️ **专用服务器**：搭建独立的游戏服务器
- 🔧 **性能调优**：优化服务器配置
- 👑 **权限管理**：管理员和玩家权限分配

---

<Aside type="caution" title="重要提醒">
- 确保所有玩家使用相同的服务器
- 游戏版本和模组必须完全一致
- 防火墙是最常见的连接问题原因
- 建议在开始前进行连通性测试
</Aside>
