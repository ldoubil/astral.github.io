---
title: 🌐 网络设置
description: 深入了解 Astral 的网络配置和优化选项
sidebar:
  order: 3
---

import { Aside, Steps, Tabs, TabItem } from '@astrojs/starlight/components';

合理的网络配置是获得最佳 Astral 体验的关键。本章将详细介绍各种网络设置选项。

## ⚡ 延迟优化设置

### 延迟优先模式
**作用**：优化网络路由，减少数据传输延迟
**适用场景**：
- 🎮 **游戏联机**：实时游戏对延迟敏感
- 🎬 **视频通话**：减少音视频延迟
- 🖱️ **远程控制**：提升操作响应速度

<Steps>
1. 进入**"设置"**页面
2. 找到**"网络设置"**选项
3. 开启**"延迟优先"**开关
4. 重新连接房间使设置生效
</Steps>

[延迟优先](/images/MC联机/MC联机-15.png)

### 延迟测试与优化
```bash
# Windows 用户可以使用以下命令测试延迟
ping 10.126.126.1 -t

# 查看网络路由
tracert 10.126.126.1
```

## 🔧 协议配置详解

### TCP vs UDP 选择

<Tabs>
  <TabItem label="TCP协议">
    **特点**：
    - ✅ **可靠传输**：确保数据完整性
    - ✅ **自动重传**：丢包自动重发
    - ✅ **流量控制**：防止网络拥塞
    
    **适用场景**：
    - 📁 文件传输
    - 💬 文本通信
    - 🌐 Web浏览
    - 📧 邮件收发
    
    **缺点**：
    - ⏱️ 延迟相对较高
    - 🔄 连接开销大
  </TabItem>

  <TabItem label="UDP协议">
    **特点**：
    - ⚡ **低延迟**：数据直接发送
    - 🚀 **高效率**：开销小
    - 📡 **实时性好**：适合实时应用
    
    **适用场景**：
    - 🎮 在线游戏
    - 🎬 视频流媒体
    - 🎤 语音通话
    - 📺 直播应用
    
    **缺点**：
    - 📦 可能丢包
    - 🔄 无自动重传
  </TabItem>
</Tabs>

**建议配置**：同时启用 TCP 和 UDP，让应用自动选择最合适的协议。

## 🛡️ 防火墙配置

### Windows 防火墙规则

如果不想完全关闭防火墙，可以添加特定规则：

<Steps>
1. **打开防火墙设置**
   - Win + R 输入 `wf.msc`
   - 或通过控制面板进入

2. **创建入站规则**
   - 点击"入站规则" → "新建规则"
   - 选择"程序"类型
   - 浏览选择 Astral.exe

3. **配置规则**
   - 选择"允许连接"
   - 应用于所有网络配置文件
   - 给规则命名（如"Astral P2P"）

4. **创建出站规则**
   - 重复上述步骤创建出站规则
</Steps>

### 路由器配置（**该操作可以降低NAT数量，降低延迟提升稳定性**）
对于高级用户，可以在路由器中配置 UPnP 或 DMZ：

- **UPnP**：启用自动端口映射
- **DMZ**：将设备设置为DMZ主机

## 📊 网络性能监控

### 实时性能指标
在 Astral 中您可以监控：

- 📡 **延迟（Ping）**：到其他设备的网络延迟
- 📦 **丢包率**：数据包丢失百分比

### 性能优化建议

**网络环境优化**：
- 🔌 优先使用有线连接
- 📶 确保WiFi信号强度

**系统优化**：
- 💾 关闭不必要的后台程序
- 🔄 更新网络驱动程序
- ⚡ 使用SSD硬盘提升性能
- 🖥️ 确保足够的系统内存

## 🔐 安全网络配置

### 加密设置
- **传输加密**：确保数据传输安全（该选项会提高CPU利用率，请谨慎操作）

## 🌐 多网卡环境配置

### 网卡选择
如果您的设备有多个网络接口：

<Steps>
1. **识别网卡**
   - 查看系统网络适配器
   - 确定主要网络接口

2. **绑定设置**
   - 在 Astral 中选择特定网卡
   - 避免网络冲突
</Steps>

### 网络优先级
- 🔌 **有线网络**：通常优先级最高
- 📶 **5G WiFi**：次优选择
- 📡 **2.4G WiFi**：备用选择
- 📱 **移动热点**：应急使用

## 🧪 高级网络调试

### 网络诊断工具
```bash
# 检查网络接口
ipconfig /all

# 查看路由表
route print

# 检查端口监听
netstat -an | findstr :11010

---

<Aside type="tip" title="网络配置最佳实践">
- 开始时使用默认设置，然后根据需要逐步调整
- 在稳定的网络环境中测试新配置
- 记录有效的配置组合，便于后续使用
- 定期检查网络和服务器性能，及时优化设置
</Aside>
